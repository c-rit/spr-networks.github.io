"use strict";(self.webpackChunkspr_docs=self.webpackChunkspr_docs||[]).push([[2872],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>h});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},g=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),u=p(n),g=r,h=u["".concat(s,".").concat(g)]||u[g]||d[g]||o;return n?a.createElement(h,l(l({ref:t},c),{},{components:n})):a.createElement(h,l({ref:t},c))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,l=new Array(o);l[0]=g;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[u]="string"==typeof e?e:r,l[1]=i;for(var p=2;p<o;p++)l[p]=n[p];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}g.displayName="MDXCreateElement"},2521:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>u,frontMatter:()=>o,metadata:()=>i,toc:()=>p});var a=n(87462),r=(n(67294),n(3905));const o={slug:"virtual-spr-1click",title:"How to use the SPR 1-click install on DigitalOcean",authors:"ltspo",tags:["SPR","Virtual","Cloud","VPN","WireGuard","DigitalOcean"]},l=void 0,i={permalink:"/pages/blog/virtual-spr-1click",source:"@site/blog/2023-09-10-virtual-spr-one-click.md",title:"How to use the SPR 1-click install on DigitalOcean",description:"Introduction",date:"2023-09-10T00:00:00.000Z",formattedDate:"September 10, 2023",tags:[{label:"SPR",permalink:"/pages/blog/tags/spr"},{label:"Virtual",permalink:"/pages/blog/tags/virtual"},{label:"Cloud",permalink:"/pages/blog/tags/cloud"},{label:"VPN",permalink:"/pages/blog/tags/vpn"},{label:"WireGuard",permalink:"/pages/blog/tags/wire-guard"},{label:"DigitalOcean",permalink:"/pages/blog/tags/digital-ocean"}],readingTime:2.065,hasTruncateMarker:!1,authors:[{name:"Philip Olausson",url:"https://twitter.com/capslcc",key:"ltspo"}],frontMatter:{slug:"virtual-spr-1click",title:"How to use the SPR 1-click install on DigitalOcean",authors:"ltspo",tags:["SPR","Virtual","Cloud","VPN","WireGuard","DigitalOcean"]},prevItem:{title:"One Weird Trick to fix your CTF Payloads",permalink:"/pages/blog/scapy-revfrag"},nextItem:{title:"SPR Now Available on the iOS App Store",permalink:"/pages/blog/ios-app-released"}},s={authorsImageUrls:[void 0]},p=[{value:"Introduction",id:"introduction",level:2},{value:"Step 1 - Create a SPR Droplet",id:"step-1---create-a-spr-droplet",level:2},{value:"Step 2 - Configure your droplet",id:"step-2---configure-your-droplet",level:2},{value:"Step 3 - Access your droplet",id:"step-3---access-your-droplet",level:2},{value:"Step 4 - Generate a VPN Key and Connect",id:"step-4---generate-a-vpn-key-and-connect",level:2},{value:"Step 5 -- Connecting to SPR",id:"step-5----connecting-to-spr",level:2},{value:"Conclusion",id:"conclusion",level:2}],c={toc:p};function u(e){let{components:t,...o}=e;return(0,r.kt)("wrapper",(0,a.Z)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"introduction"},"Introduction"),(0,r.kt)("p",null,"This guide allows you to setup your own cloud VPN using SPR for ",(0,r.kt)("em",{parentName:"p"},"$4/month")," on the DigitalOcean Marketplace. It features ad blocking, firewall rules,\nand device micro-segmentation."),(0,r.kt)("p",null,"If you want to dive in directly: ",(0,r.kt)("a",{parentName:"p",href:"https://cloud.digitalocean.com/droplets/new?app=spr&onboarding_origin=marketplace&appId=141833495&refcode=24603f3ca4bd&region=nyc1&size=s-1vcpu-512mb-10gb&type=applications&image=supernetworks-spr"},"Click here")," to create a droplet using the SPR image. Else, follow along in the steps below."),(0,r.kt)("h2",{id:"step-1---create-a-spr-droplet"},"Step 1 - Create a SPR Droplet"),(0,r.kt)("p",null,"To create a SPR Droplet from the ",(0,r.kt)("a",{parentName:"p",href:"https://marketplace.digitalocean.com/apps/spr"},"Digital Ocean marketplace"),", press the ",(0,r.kt)("strong",{parentName:"p"},"Create SPR Droplet")," button:"),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(36799).Z,width:"2880",height:"1800"})),(0,r.kt)("p",null,"Pressing the button will take you to the DigitalOcean control panel.\nIf you are not logged into your DigitalOcean account, you need to login. If you don't have an account, you can ",(0,r.kt)("a",{parentName:"p",href:"https://cloud.digitalocean.com/registrations/new"},"sign up for one"),"."),(0,r.kt)("h2",{id:"step-2---configure-your-droplet"},"Step 2 - Configure your droplet"),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(32145).Z,width:"2880",height:"1618"})),(0,r.kt)("p",null,"Select a region & be sure to create a SSH key if you don't have one configured already."),(0,r.kt)("p",null,"For Droplet Size, the smallest ",(0,r.kt)("em",{parentName:"p"},"$4/month")," with 512 MB RAM is enough but feel free to choose another one."),(0,r.kt)("p",null,"After you've made all your choices, press ",(0,r.kt)("strong",{parentName:"p"},"Create droplet"),"."),(0,r.kt)("h2",{id:"step-3---access-your-droplet"},"Step 3 - Access your droplet"),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(47738).Z,width:"2880",height:"1092"})),(0,r.kt)("p",null,"In the droplet listing you can see the IP address, click ",(0,r.kt)("strong",{parentName:"p"},"Get started")," to see the tutorial and how to access you server."),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(47023).Z,width:"2880",height:"1800"})),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"ssh root@165.232.129.119\n\n")),(0,r.kt)("h2",{id:"step-4---generate-a-vpn-key-and-connect"},"Step 4 - Generate a VPN Key and Connect"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"cd /home/spr/super && ./virtual_install.sh\n")),(0,r.kt)("p",null,"You can scan the QR Code generated from the terminal"),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(66662).Z,width:"4068",height:"3022"})),(0,r.kt)("h2",{id:"step-5----connecting-to-spr"},"Step 5 -- Connecting to SPR"),(0,r.kt)("p",null,"To connect to the SPR UI/API, it's possible to connect via the VPN, or to connect with an SSH tunnel"),(0,r.kt)("p",null,"For the ssh tunnel approach, reconnect to the droplet, with forwarding options"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"ssh root@165.22.182.180  -N -L 8000:127.0.0.1:8000\n")),(0,r.kt)("p",null,"Then navigate to localhost:8000. The password is auto generated by the droplet and presented on the first login ."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"[+] login information:\n==========================================================\n http tunnel: ssh 165.22.182.180 -N -L 8000:127.0.0.1:8000\n         url: http://localhost:8000/\n    username: admin\n    password: SmczeGzcEPbBmQEi\n       token: 6Yd2MtMSkm0TiDG2ZIWqoFqxgiHN9HzRJ24m/U8HKw4=\n==========================================================\n")),(0,r.kt)("p",null,"You can update the admin password by modifying ",(0,r.kt)("inlineCode",{parentName:"p"},"/home/spr/super/configs/auth/auth_users.json")," directly."),(0,r.kt)("p",null,"Alternately, when connected to the VPN, the default address for the SPR frontend will be at 192.168.2.1. This can be updated\nunder the 'supernetworks' panel."),(0,r.kt)("h2",{id:"conclusion"},"Conclusion"),(0,r.kt)("p",null,"With this guide we've described how to setup virtual SPR to get a secure, self-hosted VPN for $4/month. The setup allows ",(0,r.kt)("em",{parentName:"p"},"you")," to route and redirect traffic, block ads, and automate networks tasks."),(0,r.kt)("p",null,"See the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/spr-networks/spr-virtual-image-build"},"spr-virtual-image-build")," repository on GitHub for how the image is built."),(0,r.kt)("p",null,"Read more about running SPR in the cloud in ",(0,r.kt)("a",{parentName:"p",href:"/blog/virtual%20SPR#configure-the-vpn-client-on-your-device"},"the Virtual SPR Guide"),"."))}u.isMDXComponent=!0},36799:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/cloud-digital-ocean-1click-1-49a5e2b818eaf57523761496d9b739c2.png"},47738:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/cloud-digital-ocean-1click-2-25c041efb916052c1c9aa4c51a77e7c9.png"},47023:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/cloud-digital-ocean-1click-3-5995a05f684eba0d12dc3e7f07c6d52c.png"},32145:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/cloud-digital-ocean-2-ca9699589bf6a28aa093388e8024b00b.png"},66662:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/cloud-digital-ocean-qrcode-a1db6df0e5b64359d51b43908792c3bf.png"}}]);