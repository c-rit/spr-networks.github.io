"use strict";(self.webpackChunkspr_docs=self.webpackChunkspr_docs||[]).push([[6343],{3905:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>h});var n=r(67294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var p=n.createContext({}),s=function(e){var t=n.useContext(p),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},u=function(e){var t=s(e.components);return n.createElement(p.Provider,{value:t},e.children)},d="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,i=e.originalType,p=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=s(r),c=a,h=d["".concat(p,".").concat(c)]||d[c]||m[c]||i;return r?n.createElement(h,o(o({ref:t},u),{},{components:r})):n.createElement(h,o({ref:t},u))}));function h(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=r.length,o=new Array(i);o[0]=c;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[d]="string"==typeof e?e:a,o[1]=l;for(var s=2;s<i;s++)o[s]=r[s];return n.createElement.apply(null,o)}return n.createElement.apply(null,r)}c.displayName="MDXCreateElement"},75296:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>s});var n=r(87462),a=(r(67294),r(3905));const i={sidebar_label:"Raspberry Pi 4 Model B Hardware Guide"},o="Raspberry Pi 4 Model B Hardware Guide",l={unversionedId:"pi4b",id:"pi4b",title:"Raspberry Pi 4 Model B Hardware Guide",description:"Raspberry Pi 4 Model B",source:"@site/docs/pi4b.md",sourceDirName:".",slug:"/pi4b",permalink:"/pages/docs/pi4b",draft:!1,tags:[],version:"current",frontMatter:{sidebar_label:"Raspberry Pi 4 Model B Hardware Guide"},sidebar:"tutorialSidebar",previous:{title:"Frequently Asked Questions",permalink:"/pages/docs/faq"},next:{title:"Security",permalink:"/pages/docs/security"}},p={},s=[{value:"Hardware Requirements",id:"hardware-requirements",level:2},{value:"Running SPR",id:"running-spr",level:3},{value:"Building from source",id:"building-from-source",level:3},{value:"Using a different wireless card",id:"using-a-different-wireless-card",level:3},{value:"Install the SPR Pi 4 Image",id:"install-the-spr-pi-4-image",level:2},{value:"Running",id:"running",level:3},{value:"Follow the SPR Setup Guide",id:"follow-the-spr-setup-guide",level:3}],u={toc:s};function d(e){let{components:t,...r}=e;return(0,a.kt)("wrapper",(0,n.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"raspberry-pi-4-model-b-hardware-guide"},"Raspberry Pi 4 Model B Hardware Guide"),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://images.prismic.io/rpf-products/3a15d4da-46e3-4940-8be6-9fc7d201affe_RPi_4B_FEATURED.jpg",alt:"Raspberry Pi 4 Model B"})),(0,a.kt)("h2",{id:"hardware-requirements"},"Hardware Requirements"),(0,a.kt)("p",null,"The current setup assumes you'll be using a Raspberry Pi Model 4b with an mt76 based wireless adapter.\nThe built-in ethernet port of the Raspberry Pi is connected to upstream/WAN/internet."),(0,a.kt)("h3",{id:"running-spr"},"Running SPR"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"A WiFi Dongle for better performance and WPA3 support. The following WiFi6 dongles work great: ",(0,a.kt)("a",{parentName:"li",href:"https://www.amazon.com/dp/B0B94R78N7"},"Netgear's A8000 6-E"),", and the bulkier ",(0,a.kt)("a",{parentName:"li",href:"https://www.amazon.com/dp/B0BY8GMW32"},"ALFA AWUS036AXML 6-E"),".\nFor Wifi5: ",(0,a.kt)("a",{parentName:"li",href:"https://amzn.to/3wei0NY"},"Netgear's A620")," and ",(0,a.kt)("a",{parentName:"li",href:"https://amzn.to/3u6U5NS"},"Alfa's AWUS036ACM"),".")),(0,a.kt)("admonition",{title:"WiFi dongles",type:"info"},(0,a.kt)("p",{parentName:"admonition"},"The WiFi 5 dongles have been tested to perform well with a ",(0,a.kt)("em",{parentName:"p"},"500-550Mbps")," top speed in a low noise environment and the WiFi 6 dongles can reach closer to ",(0,a.kt)("em",{parentName:"p"},"700mpbs")," in a low noise environment.")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"A ",(0,a.kt)("a",{parentName:"p",href:"https://amzn.to/3ijDuAN"},"USB SSD")," works best. A 16GB SD card can also be used but is not recommended")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Ethernet cable for setup (and if you run uplink over the wire)")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("em",{parentName:"p"},"Optional")," For running multiple WiFi adapters, a powered USB 3.0 capable hub is recommended")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("em",{parentName:"p"},"Optional")," An Ethernet USB Dongle for additional LAN devices since the built-in ethernet card (eth0) will be used for the WAN. The ",(0,a.kt)("a",{parentName:"p",href:"https://amzn.to/3qkuujo"},"UE 300")," has been tested to run near line speed on the Pi (",(0,a.kt)("em",{parentName:"p"},"950Mbps"),"). The ",(0,a.kt)("a",{parentName:"p",href:"https://www.amazon.com/TP-Link-Portable-Ethernet-Notebooks-UE330/dp/B01N9M32TA"},"U3 330")," also works and provides additional USB 3.0 ports."))),(0,a.kt)("admonition",{type:"tip"},(0,a.kt)("p",{parentName:"admonition"},"Grab the Complete Starter Kit for everything you need to get started ",(0,a.kt)("a",{parentName:"p",href:"https://www.supernetworks.org/devkit.html"},"here"))),(0,a.kt)("h3",{id:"building-from-source"},"Building from source"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"8 GB of RAM are recommended for building SPR on the Pi. Any amount of RAM can work for building but ramdisks have to be disabled in the docker build. The prebuilt GHCR has prebuilt SPR images available also.")),(0,a.kt)("h3",{id:"using-a-different-wireless-card"},"Using a different wireless card"),(0,a.kt)("p",null,"For using a different wireless adapter, the default hostapd configuration may need to be modified in the UI or in ",(0,a.kt)("inlineCode",{parentName:"p"},"configs/wifi/"),". Note that the built-in Raspberry Pi Wireless card can not be used as an AP by default as it does not support AP/VLAN, which is a feature that SPR relies on."),(0,a.kt)("h2",{id:"install-the-spr-pi-4-image"},"Install the SPR Pi 4 Image"),(0,a.kt)("p",null,"For running SPR on a Raspberry Pi 4, a pre-built image is available on the ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/spr-networks/super/releases/"},"releases page"),"."),(0,a.kt)("p",null,"You can download ",(0,a.kt)("inlineCode",{parentName:"p"},"spr.img.xz")," and flash it with a tool such as ",(0,a.kt)("a",{parentName:"p",href:"https://www.balena.io/etcher/"},"Balena Etcher"),", or if you prefer to write the image using the command line:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"# On a mac, write the image to the external disk (rdiskX).\n# Be careful to make sure you identify your removable drive correctly.\n$ xzcat spr.img.xz | dd of=/dev/rdiskX bs=$[1024*1024]\n")),(0,a.kt)("admonition",{type:"tip"},(0,a.kt)("p",{parentName:"admonition"},"If you use Balena Etcher be sure to download the image first and choose ",(0,a.kt)("em",{parentName:"p"},"Flash from file"),".")),(0,a.kt)("h3",{id:"running"},"Running"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Plug in SPR to your local network using a ethernet cable"),(0,a.kt)("li",{parentName:"ol"},"Boot the drive on the Pi - setup will complete on device and reboot"),(0,a.kt)("li",{parentName:"ol"},"Visit ",(0,a.kt)("a",{parentName:"li",href:"http://spr.local"},"http://spr.local")," to setup your device")),(0,a.kt)("p",null,"Default credentials for ssh are:\n",(0,a.kt)("inlineCode",{parentName:"p"},"ubuntu:ubuntu")),(0,a.kt)("admonition",{title:"Upstream services",type:"note"},(0,a.kt)("p",{parentName:"admonition"},"Under ",(0,a.kt)("inlineCode",{parentName:"p"},"/home/spr/super/config/base/config.sh"),", consider disabling ",(0,a.kt)("inlineCode",{parentName:"p"},"UPSTREAM_SERVICES_ENABLE=1")," if you do not want the API and SSH exposed to the WAN ethernet interface. This can also be toggled under the Firewall Services tab\nin the UI.")),(0,a.kt)("h3",{id:"follow-the-spr-setup-guide"},"Follow the SPR Setup Guide"),(0,a.kt)("p",null,"If you prefer to run on an existing image, or run from a fresh Ubuntu server install,\nyou can ",(0,a.kt)("a",{parentName:"p",href:"/docs/setup_run_spr"},"Follow the SPR setup guide")))}d.isMDXComponent=!0}}]);