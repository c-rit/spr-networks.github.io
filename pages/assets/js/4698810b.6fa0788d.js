"use strict";(self.webpackChunkspr_docs=self.webpackChunkspr_docs||[]).push([[3372],{76082:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>l});var s=i(85893),r=i(11151);const a={sidebar_position:3},d="Firewall",t={id:"guides/firewall",title:"Firewall",description:"firewall-list",source:"@site/docs/guides/firewall.md",sourceDirName:"guides",slug:"/guides/firewall",permalink:"/pages/docs/guides/firewall",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Manage Devices",permalink:"/pages/docs/guides/device"},next:{title:"DNS Block Lists & Settings",permalink:"/pages/docs/guides/dns"}},c={},l=[{value:"Firewall Use Cases",id:"firewall-use-cases",level:2},{value:"Advanced firewall configuration",id:"advanced-firewall-configuration",level:4},{value:"Port Forwarding",id:"port-forwarding",level:2},{value:"Add a Port Forward",id:"add-a-port-forward",level:3},{value:"Inbound Traffic Block",id:"inbound-traffic-block",level:2},{value:"Add a Inbound Block",id:"add-a-inbound-block",level:3},{value:"Forwarding Traffic Block",id:"forwarding-traffic-block",level:2},{value:"Add a Forwarding Block",id:"add-a-forwarding-block",level:3},{value:"Custom Interface Access",id:"custom-interface-access",level:2},{value:"Multicast Proxy",id:"multicast-proxy",level:2},{value:"Endpoints",id:"endpoints",level:2}];function o(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",ul:"ul",...(0,r.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"firewall",children:"Firewall"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"firewall-list",src:i(56955).Z+"",width:"1280",height:"800"})}),"\n",(0,s.jsx)(n.h2,{id:"firewall-use-cases",children:"Firewall Use Cases"}),"\n",(0,s.jsxs)(n.p,{children:["Most common to use is ",(0,s.jsx)(n.em,{children:"Port Forwarding"})," and ",(0,s.jsx)(n.em,{children:"Inbound Traffic Block"}),"."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#port-forwarding",children:"Port Forwarding"})," is if you want to open a port ",(0,s.jsx)(n.em,{children:"from WAN"})," and forward the traffic to a local device"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#inbound-traffic-block",children:"Inbound Traffic Block"})," block access from a specific address and/or destination"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#forwarding-traffic-block",children:"Forwarding Traffic Block"})," allow/block devices from your local network"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"advanced-firewall-configuration",children:"Advanced firewall configuration"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#custom-interface-access",children:"Custom Interface Access"})," - Join a docker bridge or custom interface to SPR networking"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#multicast-proxy",children:"Multicast Proxy"})," -- Configure mDNS, SSDP, and other UDP broadcast services"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#endpoints",children:"Endpoints"})," - Define one-way connectivity rules"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"port-forwarding",children:"Port Forwarding"}),"\n",(0,s.jsx)(n.p,{children:"Set rules to forward incoming traffic (DNAT forwarding)."}),"\n",(0,s.jsx)(n.h3,{id:"add-a-port-forward",children:"Add a Port Forward"}),"\n",(0,s.jsxs)(n.p,{children:["On the ",(0,s.jsx)(n.em,{children:"Firewall"})," page expand ",(0,s.jsx)(n.em,{children:"Port Forwarding"})," and click ",(0,s.jsx)(n.em,{children:"Add Forward"}),"."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"firewall-port-forward-add",src:i(53905).Z+"",width:"1280",height:"598"})}),"\n",(0,s.jsx)(n.p,{children:"In the screenshot all traffic from source address 1.1.1.1 with destination port 8080 is redirected to 192.168.2.106 on port 8080."}),"\n",(0,s.jsx)(n.h2,{id:"inbound-traffic-block",children:"Inbound Traffic Block"}),"\n",(0,s.jsx)(n.p,{children:"Block traffic coming into the network at the PREROUTING stage."}),"\n",(0,s.jsx)(n.h3,{id:"add-a-inbound-block",children:"Add a Inbound Block"}),"\n",(0,s.jsxs)(n.p,{children:["On the ",(0,s.jsx)(n.em,{children:"Firewall"})," page expand ",(0,s.jsx)(n.em,{children:"Inbound Traffic Block"})," and click ",(0,s.jsx)(n.em,{children:"Add IP Block"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.img,{alt:"firewall-inbound-traffic-block-add",src:i(6269).Z+"",width:"1280",height:"596"}),"\nIn the screenshot all traffic from source address ",(0,s.jsx)(n.em,{children:"1.1.1.1"})," with destination address ",(0,s.jsx)(n.em,{children:"192.168.2.106"})," will be blocked."]}),"\n",(0,s.jsx)(n.h2,{id:"forwarding-traffic-block",children:"Forwarding Traffic Block"}),"\n",(0,s.jsx)(n.p,{children:"Add rules to block traffic at the FORWARDING stage."}),"\n",(0,s.jsx)(n.h3,{id:"add-a-forwarding-block",children:"Add a Forwarding Block"}),"\n",(0,s.jsxs)(n.p,{children:["On the ",(0,s.jsx)(n.em,{children:"Firewall"})," page expand ",(0,s.jsx)(n.em,{children:"Forwarding Traffic Block"})," and click ",(0,s.jsx)(n.em,{children:"Add Forwarding Block"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.img,{alt:"firewall-forwarding-traffic-block-add",src:i(54e3).Z+"",width:"1280",height:"597"}),"\nIn the screenshot all traffic from source address ",(0,s.jsx)(n.em,{children:"192.168.2.103"})," with destination address ",(0,s.jsx)(n.em,{children:"192.168.2.106"})," on port ",(0,s.jsx)(n.em,{children:"8080"})," will be blocked."]}),"\n",(0,s.jsx)(n.p,{children:"Example use is if you add a device to the lan group but want to block access on some ports."}),"\n",(0,s.jsx)(n.h2,{id:"custom-interface-access",children:"Custom Interface Access"}),"\n",(0,s.jsx)(n.p,{children:"Manage network access for custom interface names and control access for docker networks."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"firewall-custom-interface-rule-add",src:i(6375).Z+"",width:"1280",height:"599"})}),"\n",(0,s.jsx)(n.p,{children:"Use this to forward traffic to an interface running in a separate container."}),"\n",(0,s.jsxs)(n.p,{children:["See more in the repository for the ",(0,s.jsx)(n.a,{href:"https://github.com/spr-networks/spr-mitmproxy",children:"spr-mitmproxy plugin"})," for how this feature can be used."]}),"\n",(0,s.jsx)(n.h2,{id:"multicast-proxy",children:"Multicast Proxy"}),"\n",(0,s.jsxs)(n.p,{children:["Set multicast ip",":port"," addresses to proxy between devices. This allows discovery services such as SSDP/Zeroconf and mDNS in SPR.\nBy dfeault only SSDP and mDNS are on. You may need to enable PTP or other services for streaming and device sync. If something is not working as expected, let us know,\nby ",(0,s.jsx)(n.a,{href:"https://github.com/spr-networks/super/issues",children:"filing an issue"})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"firewall-multicast",src:i(78854).Z+"",width:"2632",height:"1710"})}),"\n",(0,s.jsx)(n.p,{children:"A future release will enable tags to apply proxying to only a subset of devices."}),"\n",(0,s.jsx)(n.h2,{id:"endpoints",children:"Endpoints"}),"\n",(0,s.jsx)(n.p,{children:"Service Endpoints serves as helpers for creating other firewall rules, as well as one-way connectivity from devices to the endpoint when they share a tag."}),"\n",(0,s.jsx)(n.p,{children:"When devices are in the same group they have full access to each other. Device in the LAN group have one-way access to all devices via NAT."}),"\n",(0,s.jsx)(n.p,{children:"Endpoints create a quick way to apply one-way connectivity a specific destination, by applying tags."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Create a service definition"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"firewall-endpoint-create",src:i(92765).Z+"",width:"2668",height:"1674"})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Apply a tag\n",(0,s.jsx)(n.img,{alt:"firewall-endpoint-tag",src:i(88137).Z+"",width:"2666",height:"1714"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Apply the same tag to the device that should have access to the endpoint\n",(0,s.jsx)(n.img,{alt:"firewall-endpoint-tag",src:i(8317).Z+"",width:"2664",height:"2394"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Example of device access before and after it has the tag\n",(0,s.jsx)(n.img,{alt:"firewall-endpoint-tag",src:i(90967).Z+"",width:"1118",height:"706"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["The other side, ",(0,s.jsx)(n.code,{children:"192.168.2.58"}),", does not gain access to the device on ",(0,s.jsx)(n.code,{children:"192.168.2.218"})," beyond receiving TCP connections on ",(0,s.jsx)(n.code,{children:":22900"}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},6375:(e,n,i)=>{i.d(n,{Z:()=>s});const s=i.p+"assets/images/firewall-custom-interface-rule-add-6c2885f7af0f5fd0911a4fde33cb4c27.png"},92765:(e,n,i)=>{i.d(n,{Z:()=>s});const s=i.p+"assets/images/firewall-endpoint-create-e87e3d36fc353f8934b0db6ef96bcf18.png"},8317:(e,n,i)=>{i.d(n,{Z:()=>s});const s=i.p+"assets/images/firewall-endpoint-device-tag-3f964bece0f6091d364812ab273dfe12.png"},90967:(e,n,i)=>{i.d(n,{Z:()=>s});const s=i.p+"assets/images/firewall-endpoint-example-16e8d6cd5fc702d55e613d5a4b8de7f6.png"},88137:(e,n,i)=>{i.d(n,{Z:()=>s});const s=i.p+"assets/images/firewall-endpoint-tag-dde1b8e289bcca4ca9c3605a191c39ae.png"},54e3:(e,n,i)=>{i.d(n,{Z:()=>s});const s=i.p+"assets/images/firewall-forwarding-traffic-block-add-f5636b32bc172408ce95a96e87f21f2c.png"},6269:(e,n,i)=>{i.d(n,{Z:()=>s});const s=i.p+"assets/images/firewall-inbound-traffic-block-add-d25b6758ba9fe85977ff0c88a2ddafd9.png"},56955:(e,n,i)=>{i.d(n,{Z:()=>s});const s=i.p+"assets/images/firewall-list-a47dadeff14f1f0071452f171e451695.png"},78854:(e,n,i)=>{i.d(n,{Z:()=>s});const s=i.p+"assets/images/firewall-multicast-1078b918e413b314b737340bb1d2436a.png"},53905:(e,n,i)=>{i.d(n,{Z:()=>s});const s=i.p+"assets/images/firewall-port-forward-add-b53149bdb7e25797780605773a48bf4d.png"},11151:(e,n,i)=>{i.d(n,{Z:()=>t,a:()=>d});var s=i(67294);const r={},a=s.createContext(r);function d(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);