"use strict";(self.webpackChunkspr_docs=self.webpackChunkspr_docs||[]).push([[6343],{3905:function(e,t,r){r.d(t,{Zo:function(){return u},kt:function(){return f}});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var s=n.createContext({}),p=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},u=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),c=p(r),f=a,m=c["".concat(s,".").concat(f)]||c[f]||d[f]||i;return r?n.createElement(m,o(o({ref:t},u),{},{components:r})):n.createElement(m,o({ref:t},u))}));function f(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=r.length,o=new Array(i);o[0]=c;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var p=2;p<i;p++)o[p]=r[p];return n.createElement.apply(null,o)}return n.createElement.apply(null,r)}c.displayName="MDXCreateElement"},5296:function(e,t,r){r.r(t),r.d(t,{assets:function(){return u},contentTitle:function(){return s},default:function(){return f},frontMatter:function(){return l},metadata:function(){return p},toc:function(){return d}});var n=r(7462),a=r(3366),i=(r(7294),r(3905)),o=["components"],l={sidebar_label:"Raspberry Pi 4 Model B Hardware Guide"},s="Raspberry Pi 4 Model B Hardware Guide",p={unversionedId:"pi4b",id:"pi4b",title:"Raspberry Pi 4 Model B Hardware Guide",description:"Raspberry Pi 4 Model B",source:"@site/docs/pi4b.md",sourceDirName:".",slug:"/pi4b",permalink:"/pages/docs/pi4b",tags:[],version:"current",frontMatter:{sidebar_label:"Raspberry Pi 4 Model B Hardware Guide"},sidebar:"tutorialSidebar",previous:{title:"Wifid",permalink:"/pages/docs/services/wifid"},next:{title:"Security",permalink:"/pages/docs/security"}},u={},d=[{value:"Hardware Requirements",id:"hardware-requirements",level:2},{value:"Using a different wireless card",id:"using-a-different-wireless-card",level:3},{value:"Install the SPR PI 4 Image",id:"install-the-spr-pi-4-image",level:2},{value:"Running",id:"running",level:3},{value:"Follow the SPR Setup Guide",id:"follow-the-spr-setup-guide",level:3}],c={toc:d};function f(e){var t=e.components,r=(0,a.Z)(e,o);return(0,i.kt)("wrapper",(0,n.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"raspberry-pi-4-model-b-hardware-guide"},"Raspberry Pi 4 Model B Hardware Guide"),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://images.prismic.io/rpf-products/3a15d4da-46e3-4940-8be6-9fc7d201affe_RPi_4B_FEATURED.jpg",alt:"Raspberry Pi 4 Model B"})),(0,i.kt)("h2",{id:"hardware-requirements"},"Hardware Requirements"),(0,i.kt)("p",null,"The current setup assumes you'll be using a Raspberry Pi Model 4b with an mt76 based wireless adapter (wlan1).\nOptionally an additional usb ethernet adapter (eth1) can be connected to a switch for additional wired devices.\nThe built-in ethernet port of the Raspberry Pi (eth0) is connected to upstream/WAN/internet"),(0,i.kt)("p",null,"Hardware requirements:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"A WiFi Dongle for better performance and WPA3 support. Both ",(0,i.kt)("a",{parentName:"p",href:"https://amzn.to/3u6U5NS"},"Alfa's AWUS036ACM")," and ",(0,i.kt)("a",{parentName:"p",href:"https://amzn.to/3wei0NY"},"Netgear's A620")," have been tested to perform well (500-550Mbps top speed) and both use the mt76x2u driver)")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"A ",(0,i.kt)("a",{parentName:"p",href:"https://amzn.to/3ijDuAN"},"USB SSD")," works best. A 16GB SSD card can also be used but is not recommended")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"8 GB of RAM are recommended for building SPR on the Pi. Any amount of RAM can work for building but ramdisks have to be disabled in the docker build, see the README. The prebuilt GHCR has prebuilt SPR images available also.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"(Optional) An Ethernet USB Dongle for additional LAN devices since the built-in ethernet card (eth0) will be used for the WAN. The ",(0,i.kt)("a",{parentName:"p",href:"https://amzn.to/3qkuujo"},"UE 300")," has been tested to run near line speed on the Pi (950Mbps). The ",(0,i.kt)("a",{parentName:"p",href:"https://www.amazon.com/TP-Link-Portable-Ethernet-Notebooks-UE330/dp/B01N9M32TA"},"U3 330")," also works and provides additional USB 3.0 ports.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"For running multiple WiFi adapters, a powered USB 3.0 capable hub is recommended"))),(0,i.kt)("h3",{id:"using-a-different-wireless-card"},"Using a different wireless card"),(0,i.kt)("p",null,"For using a different wireless adapter, the default hostapd configuration may need to be modified in the UI or in ",(0,i.kt)("inlineCode",{parentName:"p"},"configs/wifi/"),". Note that the built-in Raspberry PI Wireless card can not be used as an AP by default as it does not support AP/VLAN, which is a feature that SPR relies on."),(0,i.kt)("h2",{id:"install-the-spr-pi-4-image"},"Install the SPR PI 4 Image"),(0,i.kt)("p",null,"For running SPR on a Raspberry Pi 4, a pre-built image is available. You can grab it on the ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/spr-networks/super/releases/"},"releases page"),"."),(0,i.kt)("p",null,"You can download ",(0,i.kt)("inlineCode",{parentName:"p"},"spr.img.xz")," and flash it with a tool such as ",(0,i.kt)("a",{parentName:"p",href:"https://www.balena.io/etcher/"},"Balena Etcher @ https://www.balena.io/etcher/")),(0,i.kt)("p",null,"If you prefer to write the image using the command line"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"# On a mac, write the image to the external disk (rdiskX).\n# Be careful to make sure you identify your removable drive correctly.\n$ xzcat spr.img.xz | dd of=/dev/rdiskX bs=$[1024*1024]\n")),(0,i.kt)("h3",{id:"running"},"Running"),(0,i.kt)("p",null,"Then boot the drive on the Pi. Setup will complete on device and reboot.\nYou should be able to navigate to the device on port 80 and see a setup screen"),(0,i.kt)("p",null,"Under ",(0,i.kt)("inlineCode",{parentName:"p"},"/home/spr/super/config/base/config.sh"),", consider disabling ",(0,i.kt)("inlineCode",{parentName:"p"},"UPSTREAM_SERVICES_ENABLE=1")," if you do not want the API and SSH exposed to the WAN ethernet interface. This can also be toggled under the Firewall tab\nin the UI."),(0,i.kt)("p",null,"Default credentials for ssh are:\n",(0,i.kt)("inlineCode",{parentName:"p"},"ubuntu:ubuntu")),(0,i.kt)("h3",{id:"follow-the-spr-setup-guide"},"Follow the SPR Setup Guide"),(0,i.kt)("p",null,"If you prefer to run on an existing image, or run from a fresh Ubuntu server install,\nyou can ",(0,i.kt)("a",{parentName:"p",href:"/docs/setup_run_spr"},"Follow the SPR setup guide")))}f.isMDXComponent=!0}}]);