"use strict";(self.webpackChunkspr_docs=self.webpackChunkspr_docs||[]).push([[128],{3905:function(t,e,n){n.d(e,{Zo:function(){return o},kt:function(){return k}});var a=n(7294);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},l=Object.keys(t);for(a=0;a<l.length;a++)n=l[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)n=l[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var u=a.createContext({}),p=function(t){var e=a.useContext(u),n=e;return t&&(n="function"==typeof t?t(e):i(i({},e),t)),n},o=function(t){var e=p(t.components);return a.createElement(u.Provider,{value:e},t.children)},d={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},c=a.forwardRef((function(t,e){var n=t.components,r=t.mdxType,l=t.originalType,u=t.parentName,o=s(t,["components","mdxType","originalType","parentName"]),c=p(n),k=r,m=c["".concat(u,".").concat(k)]||c[k]||d[k]||l;return n?a.createElement(m,i(i({ref:e},o),{},{components:n})):a.createElement(m,i({ref:e},o))}));function k(t,e){var n=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var l=n.length,i=new Array(l);i[0]=c;var s={};for(var u in e)hasOwnProperty.call(e,u)&&(s[u]=e[u]);s.originalType=t,s.mdxType="string"==typeof t?t:r,i[1]=s;for(var p=2;p<l;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},5103:function(t,e,n){n.r(e),n.d(e,{frontMatter:function(){return s},contentTitle:function(){return u},metadata:function(){return p},toc:function(){return o},default:function(){return c}});var a=n(7462),r=n(3366),l=(n(7294),n(3905)),i=["components"],s={},u="WiFi",p={unversionedId:"apis/unix_sockets/wifi_unix_socket",id:"apis/unix_sockets/wifi_unix_socket",title:"WiFi",description:"Path: /state/wifi/apisock",source:"@site/docs/apis/unix_sockets/wifi_unix_socket.md",sourceDirName:"apis/unix_sockets",slug:"/apis/unix_sockets/wifi_unix_socket",permalink:"/docs/apis/unix_sockets/wifi_unix_socket",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"DHCP",permalink:"/docs/apis/unix_sockets/dhcp_unix_socket"},next:{title:"Base",permalink:"/docs/services/base"}},o=[{value:"Path: /state/wifi/apisock",id:"path-statewifiapisock",children:[],level:4},{value:"PSK Authentication Failure",id:"psk-authentication-failure",children:[{value:"Notes:",id:"notes",children:[],level:4},{value:"Discussion:",id:"discussion",children:[],level:4}],level:3},{value:"PSK Authentication Success",id:"psk-authentication-success",children:[{value:"Discussion:",id:"discussion-1",children:[],level:4},{value:"Return Value",id:"return-value",children:[],level:4}],level:3}],d={toc:o};function c(t){var e=t.components,n=(0,r.Z)(t,i);return(0,l.kt)("wrapper",(0,a.Z)({},d,n,{components:e,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"wifi"},"WiFi"),(0,l.kt)("h4",{id:"path-statewifiapisock"},"Path: /state/wifi/apisock"),(0,l.kt)("h3",{id:"psk-authentication-failure"},"PSK Authentication Failure"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"PUT /reportPSKAuthFailure/")),(0,l.kt)("p",null,"When a station fails to authenticate, the wifi station reports the data to the API"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Key"),(0,l.kt)("th",{parentName:"tr",align:null},"Value"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Type"),(0,l.kt)("td",{parentName:"tr",align:null},"sae or wpa"),(0,l.kt)("td",{parentName:"tr",align:null},"string")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"MAC"),(0,l.kt)("td",{parentName:"tr",align:null},"HW Addr"),(0,l.kt)("td",{parentName:"tr",align:null},"string")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Reason"),(0,l.kt)("td",{parentName:"tr",align:null},"Failure Reason"),(0,l.kt)("td",{parentName:"tr",align:null},"string")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Status"),(0,l.kt)("td",{parentName:"tr",align:null},"Iface Name"),(0,l.kt)("td",{parentName:"tr",align:null},"string")))),(0,l.kt)("h4",{id:"notes"},"Notes:"),(0,l.kt)("p",null,'Reason can be "noentry" for when the MAC is unknown or "mismatch" for wrong password'),(0,l.kt)("h4",{id:"discussion"},"Discussion:"),(0,l.kt)("p",null,"In WPA3, it's not possible to try multiple MAC address/password pairs because of the ZKP properties."),(0,l.kt)("p",null,'When a new device password is assigned, and it is in the pending state, the next "noentry" mismatch will see\nthat MAC address get the pending password assigned. This binds that pending password to that MAC address.\nThe pending password is also assigned through the success path.'),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Response")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Key"),(0,l.kt)("th",{parentName:"tr",align:null},"Value"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Type"),(0,l.kt)("td",{parentName:"tr",align:null},"sae or wpa"),(0,l.kt)("td",{parentName:"tr",align:null},"string")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"MAC"),(0,l.kt)("td",{parentName:"tr",align:null},"HW Addr"),(0,l.kt)("td",{parentName:"tr",align:null},"string")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Reason"),(0,l.kt)("td",{parentName:"tr",align:null},"Failure Reason"),(0,l.kt)("td",{parentName:"tr",align:null},"string")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Status"),(0,l.kt)("td",{parentName:"tr",align:null},"Result"),(0,l.kt)("td",{parentName:"tr",align:null},"string")))),(0,l.kt)("p",null,'Result can be "Installed pending PSK"'),(0,l.kt)("h3",{id:"psk-authentication-success"},"PSK Authentication Success"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"PUT /reportPSKAuthSuccess/")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Key"),(0,l.kt)("th",{parentName:"tr",align:null},"Value"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Iface"),(0,l.kt)("td",{parentName:"tr",align:null},"IP Address"),(0,l.kt)("td",{parentName:"tr",align:null},"string")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Event"),(0,l.kt)("td",{parentName:"tr",align:null},"AP-STA-CONNECTED"),(0,l.kt)("td",{parentName:"tr",align:null},"string")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"MAC"),(0,l.kt)("td",{parentName:"tr",align:null},"HW Addr"),(0,l.kt)("td",{parentName:"tr",align:null},"string")))),(0,l.kt)("p",null,"When a station succeeds to authenticate, the wifid service reports that to the API"),(0,l.kt)("h4",{id:"discussion-1"},"Discussion:"),(0,l.kt)("p",null,"If there is a pending PSK to assign, and the the MAC address that just authenticated is not\nknown, it will get assigned to the pending PSK."),(0,l.kt)("h4",{id:"return-value"},"Return Value"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Key"),(0,l.kt)("th",{parentName:"tr",align:null},"Value"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Iface"),(0,l.kt)("td",{parentName:"tr",align:null},"IP Address"),(0,l.kt)("td",{parentName:"tr",align:null},"string")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Event"),(0,l.kt)("td",{parentName:"tr",align:null},"AP-STA-CONNECTED"),(0,l.kt)("td",{parentName:"tr",align:null},"string")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"MAC"),(0,l.kt)("td",{parentName:"tr",align:null},"HW Addr"),(0,l.kt)("td",{parentName:"tr",align:null},"string")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Status"),(0,l.kt)("td",{parentName:"tr",align:null},"Status"),(0,l.kt)("td",{parentName:"tr",align:null},"string")))),(0,l.kt)("p",null,'Status is "Okay" or "Installed pending PSK"'))}c.isMDXComponent=!0}}]);